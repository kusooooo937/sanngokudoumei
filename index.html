<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>複数部屋チャット（レスポンシブ対応）</title>
<style>
  body { font-family: monospace; background:#fff; color:#000; margin:0; padding:0; }
  #chat { width:90%; max-width:800px; height:60vh; margin:20px auto; border:1px solid #ccc;
          overflow-y:auto; padding:10px; background:#f9f9f9; }
  .message { border-bottom:1px dashed #ccc; padding:5px 0; }
  .name { color:#0066cc; margin-right:10px; }
  .time { color:#888; margin-left:10px; }
  #inputArea {
    width:90%;
    max-width:800px;
    margin:0 auto 20px;
    display:flex;
    gap:10px;
    flex-wrap: wrap; /* 横幅が足りないと改行 */
    align-items: center;
  }
  #roomInput, #nameInput, #messageInput, #fileInput, #sendBtn {
    padding:8px;
    font-family: monospace;
    flex: 0 0 auto;
  }
  #messageInput { flex:1 1 200px; } /* 横幅に応じて伸縮 */
  #fileInput { width:100px; }
  #sendBtn { width:80px; }
  
  /* レスポンシブ：スマホなら縦並び */
  @media (max-width: 600px) {
    #inputArea { flex-direction: column; }
    #messageInput, #nameInput, #fileInput, #sendBtn { width:100%; }
  }
</style>
</head>
<body>
<h1 style="text-align:center;">複数部屋チャット</h1>

<!-- ホーム画面 -->
<div id="home" style="text-align:center; margin:10px;">
  部屋名を入力して入室してください:
  <input id="homeRoomInput" type="text" placeholder="部屋名">
  <button id="joinBtn">入室</button>
</div>

<!-- チャット画面 -->
<div id="chatContainer" style="display:none;">
  <div id="chat"></div>
  <div id="inputArea">
    <input id="nameInput" type="text" placeholder="名前">
    <input id="messageInput" type="text" placeholder="書き込み…">
    <input id="fileInput" type="file" accept="image/*">
    <button id="sendBtn">書き込む</button>
  </div>
  <p style="text-align:center;"><a href="#" onclick="location.reload();">ホームに戻る</a></p>
</div>

<script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
<script src="chat.js"></script>
</body>
</html>
